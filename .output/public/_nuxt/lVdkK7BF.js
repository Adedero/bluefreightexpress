import{_ as k}from"./CsPfNzEd.js";import{t as y}from"./DkbjyAM4.js";import F from"./oExQYlCd.js";import T from"./D6LWYias.js";import N from"./CNX9NqvM.js";import{g as P,l as $,p as D,c as _,a as p,b as t,t as s,m as r,w as n,o as h,s as x,d,n as A}from"./CXM8C5h9.js";import{u as w}from"./MdmqRhP8.js";import{u as f}from"./CiV-E3LO.js";import"./QobgzsDn.js";import"./B-Xf3wQM.js";import"./CWFbdga9.js";import"./D8gjQl_4.js";import"./BS-qBcPE.js";import"./oCnzFtNG.js";import"./D0vWFl9C.js";import"./6lRoRFo_.js";import"./CFLc3v_B.js";import"./BvNuPkbj.js";import"./CpOS-HWj.js";import"./B55uF3tP.js";import"./DK2PVj89.js";import"./GD_SiCA-.js";import"./Dz0YChoE.js";import"./DNq4Qns9.js";import"./xSwBAyAK.js";import"./CmeO1j9U.js";import"./yNxkZ74U.js";import"./BA5EP5XS.js";import"./CgjXPU3N.js";import"./C3se0NNV.js";import"./Ra8Pe5ZI.js";import"./-LaqS3uL.js";const B={class:"w-dvw p-4"},L={class:"border rounded-lg shadow-sm px-2 py-2 flex items-center justify-between gap-2"},V={class:"font-rubik text-xl font-bold text-[--p-primary-color]"},z={class:"mt-4"},E={key:0},I={key:1},O={class:"w-full overflow-x-auto"},we=P({__name:"index",async setup(R){let i,m;const l=$(0),{data:c}=([i,m]=D(()=>w("/api/orders/count","$BDyEMCVgmz")),i=await i,m(),i),{data:u}=([i,m]=D(()=>w("/api/orders",{query:{page:l.value},watch:[l]},"$-5AfRAlzgG")),i=await i,m(),i),b=async o=>{await A(`/admin/orders/${o.data._id}`)};return(o,g)=>{const v=x,M=k,a=N,C=T,Y=F;return h(),_("div",B,[p("header",L,[p("h1",V," Orders: "+s(r(c)===null?"Loading":r(c)),1),t(M,{to:"/admin/create-order"},{default:n(()=>[t(v,{label:"New",icon:"pi pi-plus",size:"small"})]),_:1})]),p("div",z,[r(u)===null?(h(),_("div",E," Loading ")):(h(),_("div",I,[p("div",O,[t(C,{value:r(u),"striped-rows":"",selectionMode:"single","data-key":"_id",onRowClick:b,class:"text-sm"},{default:n(()=>[t(a,{field:"user.name",header:"Client"}),t(a,{field:"orderId",header:"Order ID"}),t(a,{field:"trackingNumber",header:"Tracking Number"}),t(a,{field:"status",header:"Status"},{body:n(({data:e})=>[d(s(("toTitleCase"in o?o.toTitleCase:r(y))(e.status)),1)]),_:1}),t(a,{field:"freightMode",header:"Freight Mode"},{body:n(({data:e})=>[d(s(("toTitleCase"in o?o.toTitleCase:r(y))(e.freightMode)),1)]),_:1}),t(a,{header:"Destination"},{body:n(({data:e})=>[d(s(e.destination.state)+", "+s(e.destination.country),1)]),_:1}),t(a,{header:"Est. Delivery"},{body:n(({data:e})=>[d(s(("useDateFormat"in o?o.useDateFormat:r(f))(e.estimatedDelivery,"DD MMM, YYYY")),1)]),_:1}),t(a,{header:"Created"},{body:n(({data:e})=>[d(s(("useDateFormat"in o?o.useDateFormat:r(f))(e.createdAt,"DD MMM, YYYY hh:mm a")),1)]),_:1}),t(a,{header:"Last Updated"},{body:n(({data:e})=>[d(s(("useDateFormat"in o?o.useDateFormat:r(f))(e.updatedAt,"DD MMM, YYYY hh:mm a")),1)]),_:1})]),_:1},8,["value"]),t(Y,{rows:20,"total-records":r(c)??r(u).length,onPage:g[0]||(g[0]=e=>l.value=e.page)},null,8,["total-records"])])]))])])}}});export{we as default};
