import $ from"./BqSeNZ_T.js";import{_ as L}from"./BlBd1IDK.js";import{e as y,c,o as l,p as h,a as e,b as n,d as p,t as r,H as T,w as b,u as i,F as M,r as I,a0 as w,f as x,D as S,A as V,i as B,B as U,C as E,q as R,j as W,z as H,_ as Q}from"./gPK0ByQQ.js";import{t as Y}from"./DkbjyAM4.js";import{u as v}from"./CW9WqglX.js";import{m as G,a as K,b as Z}from"./BnjfZgYi.js";import{_ as J}from"./DAg9wYFT.js";import X from"./CsrZ5yGP.js";import ee from"./q84rxccz.js";import te from"./CWa_sc_h.js";import se from"./CMF3thFU.js";import oe from"./Bj1QmlB_.js";import{u as ie}from"./D8avhuev.js";import{u as ne}from"./BfHCNKLc.js";import"./V_FlH8S5.js";import"./DlAUqK2U.js";import"./DocMVo39.js";import"./DYo5oCNH.js";import"./DwYIVbMJ.js";import"./C1BUMq9G.js";import"./Cxq0RZ5w.js";import"./DMFbTD8B.js";import"./D_LpeG6J.js";import"./D_4x3YkE.js";import"./0Qre1QGV.js";import"./pjINWgZp.js";import"./CNvx1l84.js";import"./DnAWv13y.js";import"./D2I85gBQ.js";import"./Lwt39ek_.js";import"./DK2eP8E6.js";import"./DLrBJtzW.js";import"./D7Ir2U6L.js";import"./DzmVOasW.js";import"./BmJu6AM4.js";import"./6czoODYN.js";import"./DHSJuXaH.js";import"./nl9pgiPC.js";import"./BeMCNyrY.js";import"./C2K7bTDj.js";import"./CSGNAuZ9.js";const re={class:"w-full font-rubik font-normal"},le={key:0},ae={class:"border border-red-300 bg-red-50 rounded-md px-4 py-2 text-[0.9rem] flex flex-col md:flex-row gap-3"},de={class:"text-red-400 flex items-center justify-center md:items-start"},me={class:"leading-tight text-center md:text-left"},ue={class:"text-red-400 font-bold"},ce={class:"mt-4 md:mt-2"},pe={class:"list-disc list-inside"},fe={key:1},ge={class:"border border-amber-300 bg-amber-50 rounded-md px-4 py-2 text-[0.9rem] flex flex-col md:flex-row gap-3"},be={class:"text-amber-400 flex items-center justify-center md:items-start"},xe={class:"leading-tight text-center md:text-left"},he={class:"text-amber-400 font-bold"},_e={class:"mt-4 md:mt-2"},ve={class:"list-disc list-inside"},ye=y({__name:"order-priority-message",props:{priority:{}},setup(m){return(a,o)=>{const u=$,s=L;return l(),c("div",re,[a.priority==="high"?(l(),c("div",le,[e("div",ae,[e("div",de,[n(u,{name:"lucide:info",size:"2.5rem"})]),e("section",null,[e("div",me,[o[2]||(o[2]=e("h4",{class:"text-lg font-bold text-red-400"},"Warning",-1)),e("p",null,[o[0]||(o[0]=p("This order has been marked as ")),e("span",ue,r(a.priority)+" priority",1),o[1]||(o[1]=p("!"))])]),e("div",ce,[e("div",null,[o[7]||(o[7]=e("p",{class:"font-semibold text-red-400"},"What does this mean?",-1)),e("ul",pe,[o[6]||(o[6]=T('<li> The order contains highly sensitive and expensive documents which require more <span class="font-semibold">time</span> and <span class="font-semibold">resources</span> to transport. </li><li> High priority orders are <span class="font-semibold">5 times</span> more likely to have longer processing times at customs due to their sensitive nature. </li><li> You <span class="font-semibold">must</span> present a valid <span class="font-semibold">government-issued ID</span> upon collection of the order when it has been delivered. </li><li>Your picture may be taken by our agent upon collection of the order for legal purposes and for documentation.</li><li>You are strongly advised <span class="font-semibold">not</span> to share the <span class="font-semibold">tracking number</span> or <span class="font-semibold">order ID</span> of this order with anyone before it has been delivered and collected.</li>',5)),e("li",null,[o[4]||(o[4]=p("For any more questions you have concerning this order, please contact the sender or reach out to us on our ")),n(s,{to:"/contact",class:"font-semibold hover:underline text-blue-500"},{default:b(()=>o[3]||(o[3]=[p("contact")])),_:1}),o[5]||(o[5]=p(" page, and add the order's tracking number or order ID to your message."))])])])])])])])):h("",!0),a.priority==="medium"?(l(),c("div",fe,[e("div",ge,[e("div",be,[n(u,{name:"lucide:info",size:"2.5rem"})]),e("section",null,[e("div",xe,[o[10]||(o[10]=e("h4",{class:"text-lg font-bold text-amber-400"},"Warning",-1)),e("p",null,[o[8]||(o[8]=p("This order has been marked as ")),e("span",he,r(a.priority)+" priority",1),o[9]||(o[9]=p("!"))])]),e("div",_e,[e("div",null,[o[15]||(o[15]=e("p",{class:"font-semibold text-amber-400"},"What does this mean?",-1)),e("ul",ve,[o[14]||(o[14]=T('<li> The order contains sensitive and probabbly expensive documents which require more <span class="font-semibold">time</span> and <span class="font-semibold">resources</span> to transport. </li><li> Medium priority orders are <span class="font-semibold">2 times</span> more likely to have longer processing times at customs due to their sensitive nature. </li><li>You are strongly advised <span class="font-semibold">not</span> to share the <span class="font-semibold">tracking number</span> or <span class="font-semibold">order ID</span> of this order with anyone before it has been delivered and collected.</li>',3)),e("li",null,[o[12]||(o[12]=p("For any more questions you have concerning this order, please contact the sender or reach out to us on our ")),n(s,{to:"/contact",class:"font-semibold hover:underline text-blue-500"},{default:b(()=>o[11]||(o[11]=[p("contact")])),_:1}),o[13]||(o[13]=p(" page, and add the order's tracking number or order ID to your message."))])])])])])])])):h("",!0)])}}}),ke={class:"border rounded-md overflow-hidden"},we={class:"flex gap-1 rubik px-4 py-2 bg-primary-500 text-white"},$e={class:"font-semibold"},De={key:0,class:"bg-white flex items-center justify-center px-4 py-4 min-w-0 w-full overflow-x-auto"},Te={key:0,class:"w-10 md:w-24 xl:w-32 h-1 bg-slate-200 relative overflow-hidden"},Me=y({__name:"order-status-indicator",props:{status:{},freightMode:{}},setup(m){const a=["processing","shipped","in transit","delivered"],o=s=>a.indexOf(s)<=a.indexOf(m.status),u=s=>a.indexOf(s)===a.indexOf(m.status);return(s,g)=>{const d=$;return l(),c("div",ke,[e("div",we,[g[0]||(g[0]=e("h3",null,"Order Status:",-1)),e("p",$e,r(("toTitleCase"in s?s.toTitleCase:i(Y))(s.status)),1)]),s.status!=="cancelled"?(l(),c("div",De,[(l(),c(M,null,I(a,(t,f)=>e("div",{key:t,class:"flex items-center"},[e("div",{class:w(["rounded-full p-1.5 grid place-content-center aspect-square",o(t)?"bg-blue-500 text-white":"bg-slate-200"])},[t==="processing"?(l(),x(d,{key:0,name:"lucide:clock",size:"1.4rem"})):t==="shipped"?(l(),x(d,{key:1,name:"lucide:package-check",size:"1.4rem"})):t==="in transit"&&s.freightMode==="air"?(l(),x(d,{key:2,name:"lucide:plane",size:"1.4rem"})):t==="in transit"&&s.freightMode==="ocean"?(l(),x(d,{key:3,name:"lucide:ship",size:"1.4rem"})):t==="in transit"?(l(),x(d,{key:4,name:"lucide:truck",size:"1.4rem"})):t==="delivered"?(l(),x(d,{key:5,name:"lucide:map-pin-check",size:"1.4rem"})):h("",!0)],2),f<a.length-1?(l(),c("div",Te,[e("div",{class:w(["h-full absolute top-0 left-0 transition-all duration-300",{"bg-blue-500 w-full":o(a[f+1]),"bg-blue-500 w-1/2":u(t),"bg-slate-200 w-0":!o(a[f+1])&&!u(t)}])},null,2)])):h("",!0)])),64))])):h("",!0)])}}}),Ie={class:"bg-white border rounded-md p-2"},Se={class:"flex items-start gap-2"},Ye={class:"w-full"},ze={class:"font-semibold text-primary-500"},Fe={class:"text-sm text-slate-500"},Pe={class:"mt-2 grid gap-2 md:w-full md:flex md:flex-wrap md:justify-between"},qe={class:"w-fit rubik px-2 py-1 rounded-md bg-slate-100 text-slate-600 font-medium text-xs"},Ce=y({__name:"update-item",props:{update:{},freightMode:{}},setup(m){function a(){return m.update.status==="processing"?"lucide:clock":m.update.status==="shipped"?"lucide:package-plus":m.update.status==="in transit"?o():m.update.status==="delivered"?"lucide:package-open":"lucide:map-pin-x"}function o(){return m.freightMode==="air"?"lucide:plane":m.freightMode==="ocean"?"lucide:ship":m.freightMode==="road"?"lucide:truck":"lucide:package"}function u(){return m.update.severity==="error"?{icon:"lucide:triangle-alert",color:"#f59e0b "}:m.update.severity==="success"?{icon:"lucide:circle-check-big",color:"#10b981"}:{icon:o(),color:"#3b82f6"}}return(s,g)=>{const d=$;return l(),c("div",Ie,[e("div",Se,[e("div",{class:"p-2 aspect-square rounded-full grid place-content-center text-white",style:S({backgroundColor:u().color})},[n(d,{name:u().icon},null,8,["name"])],4),e("div",Ye,[e("p",ze,r(s.update.location.address),1),e("p",Fe,r(s.update.comment),1),e("div",Pe,[e("div",{class:w(["w-fit rubik px-2 py-1 rounded-md text-xs font-medium flex items-center gap-1",[s.update.status==="cancelled"?"bg-red-100 text-red-500":s.update.status==="delivered"?"bg-emerald-100 text-emerald-500":"bg-blue-100 text-blue-500"]])},[n(d,{name:a()},null,8,["name"]),e("span",null,r(("toTitleCase"in s?s.toTitleCase:i(Y))(s.update.status)),1)],2),e("div",qe,r(("useDateFormat"in s?s.useDateFormat:i(v))(s.update.timestamp,"ddd, MMM DD, YYYY | h:mm AA")),1)])])])])}}}),Ne=y({__name:"map",props:{height:{default:"400px"},updates:{}},setup(m){const a=V("map-el"),o=B();return U(async()=>{if(!a.value||!globalThis.window)return;const u=[m.updates[0].location.lat,m.updates[0].location.lng],s=await E(()=>import("./m_FpzeNm.js").then(t=>t.l),[],import.meta.url);delete s.Icon.Default.prototype._getIconUrl,s.Icon.Default.mergeOptions({iconRetinaUrl:Z,iconUrl:K,shadowUrl:G}),o.value=s.map(a.value).setView(u,10),s.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(o.value);const g=[];m.updates.forEach(t=>{if(t.location){g.push([t.location.lat,t.location.lng]);const f=v(t.timestamp,"ddd, MMM DD, YYYY | h:mm AA");s.marker([t.location.lat,t.location.lng]).addTo(o.value).bindPopup(`
          <div style="font-weight: 500">
            <p style="font-weight: 600; ">${t.location.address}</p>
            <p style="font-size: 0.72rem;">${t.comment}</p>
            <p style="font-size: 0.72rem">${f.value}</p>
          </div>
        `)}});const d=s.polyline(g,{color:"red",smoothFactor:.6}).addTo(o.value);o.value.fitBounds(d.getBounds())}),(u,s)=>(l(),c("div",{ref:"map-el",class:"w-full",style:S({height:u.height})},null,4))}}),Ae={key:0},Oe={class:"pt-20 pb-8 px-4 lg:px-8 bg-surface"},je={class:"flex items-center gap-1 text-primary-500"},Le={key:0,class:"mt-5"},Ve={class:"mt-10 grid items-start gap-x-2 gap-y-4 lg:grid-cols-2"},Be={class:"grid gap-1"},Ue={class:"flex gap-1 items-center"},Ee={class:"font-semibold rubik"},Re={class:"flex gap-1 items-center"},We={class:"font-semibold rubik"},He={class:"flex gap-1 items-center"},Qe={class:"font-semibold rubik"},Ge={class:"flex gap-1 items-center"},Ke={class:"font-semibold rubik"},Ze={class:"flex gap-1 items-center"},Je={class:"font-semibold rubik"},Xe={class:"flex items-center gap-1"},et={class:"text-xs md:text-sm"},tt={class:"font-semibold"},st={class:"font-semibold"},ot={class:"flex items-center gap-1"},it={class:"overflow-x-auto"},nt={class:"mt-2"},rt={class:"flex items-center gap-2 text-xs md:text-sm pl-2"},lt={class:"font-bold"},at={class:"bg-white pb-20 lg:py-10 lg:px-8 grid gap-x-2 gap-y-10 lg:grid-cols-5 items-start"},dt={key:0,class:"bg-surface lg:bg-white lg:rounded-md lg:col-span-2 px-3 py-4 lg:p-0 grid gap-3"},mt={class:"grid grid-cols-[repeat(auto-fit,minmax(180px,1fr))] gap-3"},ut={class:"border rounded-md bg-white p-2 flex flex-col"},ct={class:"flex items-center gap-2"},pt={class:"bg-blue-100 text-blue-500 p-2 aspect-square rounded-full grid place-content-center"},ft={class:"mt-2 rubik flex flex-col justify-between flex-grow"},gt={class:"font-medium"},bt={class:"text-3xl"},xt={class:"text-right text-xs text-slate-500"},ht={class:"border rounded-md bg-white p-2 flex flex-col"},_t={class:"flex items-center gap-2"},vt={class:"bg-amber-100 text-amber-500 p-2 aspect-square rounded-full grid place-content-center"},yt={class:"mt-2 rubik flex flex-col justify-between flex-grow"},kt={class:"font-medium"},wt={class:"text-3xl"},$t={class:"text-right text-xs text-slate-500"},Dt={class:"border rounded-md bg-white p-2 flex flex-col"},Tt={class:"flex items-center gap-2"},Mt={class:"bg-emerald-100 text-emerald-500 p-2 aspect-square rounded-full grid place-content-center"},It={class:"mt-2 rubik flex flex-col justify-between flex-grow"},St={class:"font-medium"},Yt={class:"text-3xl break-words"},zt={class:"mt-5 border rounded-md overflow-hidden"},Ft={key:0},Pt={key:1},qt={class:"p-4 grid place-content-center gap-4"},Ct={class:"flex flex-col items-center justify-center text-slate-400"},Nt={key:1},At={class:"pt-20 pb-8 px-4 lg:px-8 bg-surface"},Ot={class:"flex items-center gap-1 text-primary-500"},jt={class:"mt-3 flex items-center justify-between gap-x-4 flex-wrap"},Lt={class:"flex gap-2 items-center"},Vt={class:"font-semibold text-lg rubik"},Ss=y({__name:"index",async setup(m){let a,o;const{trackingNumber:u}=R().params;ie({title:(u==null?void 0:u.toString())||"Tracking"});const{data:s}=([a,o]=W(()=>ne(`/api/orders/track/${u}`,"$yDQu1K0QkG")),a=await a,o(),a),g=H(()=>s.value?s.value.trackingUpdates.sort((d,t)=>new Date(t.timestamp).getTime()-new Date(d.timestamp).getTime()):[]);return(d,t)=>{const f=$,z=ye,F=Me,P=oe,D=se,k=te,q=ee,C=X,N=Ce,A=Ne,O=J,j=Q;return l(),c("div",null,[n(j,{name:"main-default"},{default:b(()=>[i(s)?(l(),c("div",Ae,[e("div",Oe,[e("div",je,[n(f,{name:"lucide:package-search",size:"1.6rem"}),t[0]||(t[0]=e("h4",{class:"rubik text-3xl font-bold"},"Shipment Tracking",-1))]),i(s).priority!=="low"?(l(),c("div",Le,[n(z,{priority:i(s).priority},null,8,["priority"])])):h("",!0),e("div",Ve,[e("div",Be,[e("div",Ue,[t[1]||(t[1]=e("div",{class:"w-1.5 aspect-square bg-slate-500 rounded-full"},null,-1)),t[2]||(t[2]=e("span",{class:"text-slate-500"},"Shipping Date: ",-1)),e("span",Ee,r(("useDateFormat"in d?d.useDateFormat:i(v))(i(s).createdAt,"MMM DD, YYYY")),1)]),e("div",Re,[t[3]||(t[3]=e("div",{class:"w-1.5 aspect-square bg-slate-500 rounded-full"},null,-1)),t[4]||(t[4]=e("span",{class:"text-slate-500"},"Tracking Number: ",-1)),e("span",We,r(i(s).trackingNumber),1)]),e("div",He,[t[5]||(t[5]=e("div",{class:"w-1.5 aspect-square bg-slate-500 rounded-full"},null,-1)),t[6]||(t[6]=e("span",{class:"text-slate-500"},"Order ID: ",-1)),e("span",Qe,r(i(s).orderId),1)]),e("div",Ge,[t[7]||(t[7]=e("div",{class:"w-1.5 aspect-square bg-slate-500 rounded-full"},null,-1)),t[8]||(t[8]=e("span",{class:"text-slate-500"},"Delivery Address: ",-1)),e("span",Ke,r(i(s).destination.address),1)]),e("div",Ze,[t[9]||(t[9]=e("div",{class:"w-1.5 aspect-square bg-slate-500 rounded-full"},null,-1)),t[10]||(t[10]=e("span",{class:"text-slate-500"},"Priority: ",-1)),e("span",Je,r(i(s).priority),1)])]),e("div",null,[n(F,{status:i(s).status,"freight-mode":i(s).freightMode,class:"w-full"},null,8,["status","freight-mode"]),n(C,{header:"More",toggleable:"",collapsed:"",class:"rounded-md mt-1 font-rubik font-normal"},{default:b(()=>[n(D,null,{legend:b(()=>[e("div",Xe,[n(f,{name:"lucide:circle-user-round",size:"1.2rem"}),t[11]||(t[11]=e("span",{class:"font-bold"},"Client",-1))])]),default:b(()=>[e("div",et,[e("div",null,[t[12]||(t[12]=e("span",null,"Name: ",-1)),t[13]||(t[13]=p()),e("span",tt,r(i(s).user.name),1)]),n(P,{class:"my-2"}),e("div",null,[t[14]||(t[14]=e("span",null,"Email: ",-1)),t[15]||(t[15]=p()),e("span",st,r(i(s).user.email),1)])])]),_:1}),n(D,null,{legend:b(()=>[e("div",ot,[n(f,{name:"lucide:package",size:"1.2rem"}),t[16]||(t[16]=e("span",{class:"font-bold"},"Items",-1))])]),default:b(()=>[e("div",it,[n(q,{value:i(s).items,size:"small",class:"text-xs md:text-sm","striped-rows":""},{default:b(()=>[n(k,{field:"name",header:"Name"}),n(k,{field:"unitPrice",header:"Price ($)"}),n(k,{field:"quantity",header:"Quantity"}),n(k,{header:"Amount ($)"},{body:b(({data:_})=>[p(r((_.unitPrice*_.quantity).toLocaleString()),1)]),_:1})]),_:1},8,["value"])]),e("div",nt,[e("div",rt,[t[17]||(t[17]=e("span",null,"Total:",-1)),e("span",lt,"$"+r(i(s).totalPrice.toLocaleString()),1)])])]),_:1})]),_:1})])])]),e("div",at,[i(g).length>0?(l(),c("div",dt,[(l(!0),c(M,null,I(i(g),_=>(l(),x(N,{update:_,"freight-mode":i(s).freightMode,key:_._id},null,8,["update","freight-mode"]))),128))])):h("",!0),e("div",{class:w(["px-3",i(g).length>0?"lg:col-span-3":"lg:col-span-5"])},[e("header",mt,[e("div",ut,[e("div",ct,[e("div",pt,[n(f,{name:"lucide:map-pin-check"})]),t[18]||(t[18]=e("p",{class:"rubik font-medium text-slate-600 text-sm"},"Destination",-1))]),e("div",ft,[e("p",gt,[e("span",bt,r(i(s).destination.city),1)]),e("p",xt,r(i(s).destination.state)+", "+r(i(s).destination.country),1)])]),e("div",ht,[e("div",_t,[e("div",vt,[n(f,{name:"lucide:calendar-arrow-down"})]),t[19]||(t[19]=e("p",{class:"rubik font-medium text-slate-600 text-sm"},"Est. Arrival Date",-1))]),e("div",yt,[e("p",kt,[e("span",wt,r(("useDateFormat"in d?d.useDateFormat:i(v))(i(s).estimatedDelivery,"MMM DD")),1)]),e("p",$t,r(("useDateFormat"in d?d.useDateFormat:i(v))(i(s).estimatedDelivery,"dddd | YYYY")),1)])]),e("div",Dt,[e("div",Tt,[e("div",Mt,[n(f,{name:"lucide:circle-dollar-sign"})]),t[20]||(t[20]=e("p",{class:"rubik font-medium text-slate-600 text-sm"},"Total Value",-1))]),e("div",It,[e("p",St,[t[21]||(t[21]=e("span",null,"$",-1)),e("span",Yt,r(Math.floor(i(s).totalPrice).toLocaleString()),1),e("span",null,"."+r((i(s).totalPrice%1).toFixed(2).slice(2)),1)]),t[22]||(t[22]=e("p",{class:"text-right text-xs text-slate-500"},"No updates",-1))])])]),e("div",zt,[i(g).length>0?(l(),c("div",Ft,[n(A,{updates:i(g)},null,8,["updates"])])):(l(),c("div",Pt,[e("div",qt,[e("div",Ct,[n(f,{name:"lucide:package-open",size:"6rem"}),t[23]||(t[23]=e("p",{class:"font-rubik font-semibold text-slate-400 text-2xl"},"No updates",-1))]),t[24]||(t[24]=e("p",{class:"text-center text-slate-500"},[p("Your order is still being processed. "),e("br"),p(" Check back later for updates.")],-1))])]))])],2)])])):(l(),c("div",Nt,[e("div",At,[e("div",Ot,[n(f,{name:"lucide:package-search",size:"1.6rem"}),t[25]||(t[25]=e("h4",{class:"rubik text-3xl font-bold"},"Shipment Tracking",-1))]),e("div",jt,[e("p",Lt,[t[26]||(t[26]=e("span",null,"Tracking Number: ",-1)),e("span",Vt,r(i(u)),1)]),t[27]||(t[27]=e("p",{class:"flex gap-2 items-center"},[e("span",null,"Status: "),e("span",{class:"font-semibold text-lg rubik"},"Not Found")],-1))])]),e("div",null,[n(O)])]))]),_:1})])}}});export{Ss as default};
