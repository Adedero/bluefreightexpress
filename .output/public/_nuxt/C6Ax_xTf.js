import D from"./B15qw-eD.js";import{t as M}from"./DkbjyAM4.js";import{g as w,c as m,o as l,a as e,y as k,t as n,m as o,F as T,r as z,a4 as y,z as _,a5 as F,b as i,G as O,l as j,H as E,I as V,A as B,p as L,E as Q,w as g,_ as R,d as b}from"./CXM8C5h9.js";import{u as h}from"./CiV-E3LO.js";/* empty css        */import{_ as U}from"./BkIBrbtt.js";import G from"./ZweGv6Sj.js";import H from"./D6LWYias.js";import K from"./CNX9NqvM.js";import Z from"./BfoEoiOx.js";import J from"./BuB0-g1m.js";import{u as W}from"./MdmqRhP8.js";import"./BIP37ZU3.js";import"./DlAUqK2U.js";import"./CgjXPU3N.js";import"./Ra8Pe5ZI.js";import"./CWFbdga9.js";import"./oExQYlCd.js";import"./QobgzsDn.js";import"./B-Xf3wQM.js";import"./D8gjQl_4.js";import"./BS-qBcPE.js";import"./oCnzFtNG.js";import"./D0vWFl9C.js";import"./6lRoRFo_.js";import"./CFLc3v_B.js";import"./BvNuPkbj.js";import"./CpOS-HWj.js";import"./B55uF3tP.js";import"./DK2PVj89.js";import"./GD_SiCA-.js";import"./Dz0YChoE.js";import"./DNq4Qns9.js";import"./xSwBAyAK.js";import"./CmeO1j9U.js";import"./yNxkZ74U.js";import"./BA5EP5XS.js";import"./C3se0NNV.js";import"./-LaqS3uL.js";const X={class:"border rounded-md overflow-hidden"},ee={class:"flex gap-1 rubik px-4 py-2 bg-primary-500 text-white"},te={class:"font-semibold"},se={key:0,class:"bg-white flex items-center justify-center px-4 py-4 min-w-0 w-full overflow-x-auto"},oe={key:0,class:"w-10 md:w-24 xl:w-32 h-1 bg-slate-200 relative overflow-hidden"},ie=w({__name:"order-status-indicator",props:{status:{},freightMode:{}},setup(d){const r=["processing","shipped","in transit","delivered"],c=s=>r.indexOf(s)<=r.indexOf(d.status),p=s=>r.indexOf(s)===r.indexOf(d.status);return(s,f)=>{const a=D;return l(),m("div",X,[e("div",ee,[f[0]||(f[0]=e("h3",null,"Order Status:",-1)),e("p",te,n(("toTitleCase"in s?s.toTitleCase:o(M))(s.status)),1)]),s.status!=="cancelled"?(l(),m("div",se,[(l(),m(T,null,z(r,(t,u)=>e("div",{key:t,class:"flex items-center"},[e("div",{class:y(["rounded-full p-1.5 grid place-content-center aspect-square",c(t)?"bg-blue-500 text-white":"bg-slate-200"])},[t==="processing"?(l(),_(a,{key:0,name:"lucide:clock",size:"1.4rem"})):t==="shipped"?(l(),_(a,{key:1,name:"lucide:package-check",size:"1.4rem"})):t==="in transit"&&s.freightMode==="air"?(l(),_(a,{key:2,name:"lucide:plane",size:"1.4rem"})):t==="in transit"&&s.freightMode==="ocean"?(l(),_(a,{key:3,name:"lucide:ship",size:"1.4rem"})):t==="in transit"?(l(),_(a,{key:4,name:"lucide:truck",size:"1.4rem"})):t==="delivered"?(l(),_(a,{key:5,name:"lucide:map-pin-check",size:"1.4rem"})):k("",!0)],2),u<r.length-1?(l(),m("div",oe,[e("div",{class:y(["h-full absolute top-0 left-0 transition-all duration-300",{"bg-blue-500 w-full":c(r[u+1]),"bg-blue-500 w-1/2":p(t),"bg-slate-200 w-0":!c(r[u+1])&&!p(t)}])},null,2)])):k("",!0)])),64))])):k("",!0)])}}}),ne={class:"bg-white border rounded-md p-2"},ae={class:"flex items-start gap-2"},le={class:"w-full"},re={class:"font-semibold text-primary-500"},de={class:"text-sm text-slate-500"},ce={class:"mt-2 grid gap-2 md:w-full md:flex md:flex-wrap md:justify-between"},ue={class:"w-fit rubik px-2 py-1 rounded-md bg-slate-100 text-slate-600 font-medium text-xs"},me=w({__name:"update-item",props:{update:{},freightMode:{}},setup(d){function r(){return d.update.status==="processing"?"lucide:clock":d.update.status==="shipped"?"lucide:package-plus":d.update.status==="in transit"?c():d.update.status==="delivered"?"lucide:package-open":"lucide:map-pin-x"}function c(){return d.freightMode==="air"?"lucide:plane":d.freightMode==="ocean"?"lucide:ship":d.freightMode==="road"?"lucide:truck":"lucide:package"}function p(){return d.update.severity==="error"?{icon:"lucide:triangle-alert",color:"#f59e0b "}:d.update.severity==="success"?{icon:"lucide:circle-check-big",color:"#10b981"}:{icon:c(),color:"#3b82f6"}}return(s,f)=>{const a=D;return l(),m("div",ne,[e("div",ae,[e("div",{class:"p-2 aspect-square rounded-full grid place-content-center text-white",style:F({backgroundColor:p().color})},[i(a,{name:p().icon},null,8,["name"])],4),e("div",le,[e("p",re,n(s.update.location.address),1),e("p",de,n(s.update.comment),1),e("div",ce,[e("div",{class:y(["w-fit rubik px-2 py-1 rounded-md text-xs font-medium flex items-center gap-1",[s.update.status==="cancelled"?"bg-red-100 text-red-500":s.update.status==="delivered"?"bg-emerald-100 text-emerald-500":"bg-blue-100 text-blue-500"]])},[i(a,{name:r()},null,8,["name"]),e("span",null,n(("toTitleCase"in s?s.toTitleCase:o(M))(s.update.status)),1)],2),e("div",ue,n(("useDateFormat"in s?s.useDateFormat:o(h))(s.update.timestamp,"ddd, MMM DD, YYYY | h:mm AA")),1)])])])])}}}),pe=w({__name:"map",props:{height:{default:"500px"},updates:{}},setup(d){const r=O("map-el"),c=j();return E(async()=>{if(!r.value||!globalThis.window)return;const p=[d.updates[0].location.lat,d.updates[0].location.lng],s=await V(()=>import("./m_FpzeNm.js").then(t=>t.l),[],import.meta.url);c.value=s.map(r.value).setView(p,10),s.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(c.value);const f=[];d.updates.forEach(t=>{if(t.location){f.push([t.location.lat,t.location.lng]);const u=h(t.timestamp,"ddd, MMM DD, YYYY | h:mm AA");s.marker([t.location.lat,t.location.lng]).addTo(c.value).bindPopup(`
          <div style="font-weight: 500">
            <p style="font-weight: 600; ">${t.location.address}</p>
            <p style="font-size: 0.72rem;">${t.comment}</p>
            <p style="font-size: 0.72rem">${u.value}</p>
          </div>
        `)}});const a=s.polyline(f,{color:"red",smoothFactor:.6}).addTo(c.value);c.value.fitBounds(a.getBounds())}),(p,s)=>(l(),m("div",{ref:"map-el",class:"w-full",style:F({height:p.height})},null,4))}}),fe={key:0},ge={class:"pt-20 pb-8 px-4 lg:px-8 bg-surface"},_e={class:"flex items-center gap-1 text-primary-500"},xe={class:"mt-3 grid items-start gap-x-2 gap-y-4 lg:grid-cols-2"},be={class:"grid gap-1"},he={class:"flex gap-1 items-center"},ve={class:"font-semibold rubik"},ke={class:"flex gap-1 items-center"},ye={class:"font-semibold rubik"},we={class:"flex gap-1 items-center"},De={class:"font-semibold rubik"},$e={class:""},Me={class:"font-semibold rubik"},Te={class:"flex items-center gap-1"},ze={class:"text-sm"},Fe={class:"font-semibold"},Ye={class:"font-semibold"},Ce={class:"flex items-center gap-1"},Pe={class:"overflow-x-auto"},Se={class:"mt-2"},Ne={class:"flex items-center gap-2 text-sm pl-2"},Ae={class:"font-bold"},Ie={class:"bg-white pb-20 lg:py-10 lg:px-8 grid gap-x-2 gap-y-10 lg:grid-cols-5 items-start"},qe={key:0,class:"bg-surface lg:bg-white lg:rounded-md lg:col-span-2 px-3 py-4 lg:p-0 grid gap-3"},Oe={class:"grid grid-cols-[repeat(auto-fit,minmax(180px,1fr))] gap-3"},je={class:"border rounded-md bg-white p-2 flex flex-col"},Ee={class:"flex items-center gap-2"},Ve={class:"bg-blue-100 text-blue-500 p-2 aspect-square rounded-full grid place-content-center"},Be={class:"mt-2 rubik flex flex-col justify-between flex-grow"},Le={class:"font-medium"},Qe={class:"text-3xl"},Re={class:"text-right text-xs text-slate-500"},Ue={class:"border rounded-md bg-white p-2 flex flex-col"},Ge={class:"flex items-center gap-2"},He={class:"bg-amber-100 text-amber-500 p-2 aspect-square rounded-full grid place-content-center"},Ke={class:"mt-2 rubik flex flex-col justify-between flex-grow"},Ze={class:"font-medium"},Je={class:"text-3xl"},We={class:"text-right text-xs text-slate-500"},Xe={class:"border rounded-md bg-white p-2 flex flex-col"},et={class:"flex items-center gap-2"},tt={class:"bg-emerald-100 text-emerald-500 p-2 aspect-square rounded-full grid place-content-center"},st={class:"mt-2 rubik flex flex-col justify-between flex-grow"},ot={class:"font-medium"},it={class:"text-3xl"},nt={class:"mt-5 border rounded-md overflow-hidden"},at={key:0},lt={key:1},rt={class:"p-4 grid place-content-center gap-4"},dt={class:"flex flex-col items-center justify-center text-slate-400"},ct={key:1},ut={class:"pt-20 pb-8 px-4 lg:px-8 bg-surface"},mt={class:"flex items-center gap-1 text-primary-500"},pt={class:"mt-3 flex items-center justify-between gap-x-4 flex-wrap"},ft={class:"flex gap-2 items-center"},gt={class:"font-semibold text-lg rubik"},ts=w({__name:"index",async setup(d){let r,c;const{trackingNumber:p}=B().params,{data:s}=([r,c]=L(()=>W(`/api/orders/track/${p}`,"$yDQu1K0QkG")),r=await r,c(),r),f=Q(()=>s.value?s.value.trackingUpdates.sort((a,t)=>new Date(t.timestamp).getTime()-new Date(a.timestamp).getTime()):[]);return(a,t)=>{const u=D,Y=ie,C=J,$=Z,v=K,P=H,S=G,N=me,A=pe,I=U,q=R;return l(),m("div",null,[i(q,{name:"main-default"},{default:g(()=>[o(s)?(l(),m("div",fe,[e("div",ge,[e("div",_e,[i(u,{name:"lucide:package-search",size:"1.6rem"}),t[0]||(t[0]=e("h4",{class:"rubik text-3xl font-bold"},"Shipment Tracking",-1))]),e("div",xe,[e("div",be,[e("div",he,[t[1]||(t[1]=e("div",{class:"w-1.5 aspect-square bg-slate-500 rounded-full"},null,-1)),t[2]||(t[2]=e("span",{class:"text-slate-500"},"Shipping Date: ",-1)),e("span",ve,n(("useDateFormat"in a?a.useDateFormat:o(h))(o(s).createdAt,"MMM DD, YYYY")),1)]),e("div",ke,[t[3]||(t[3]=e("div",{class:"w-1.5 aspect-square bg-slate-500 rounded-full"},null,-1)),t[4]||(t[4]=e("span",{class:"text-slate-500"},"Tracking Number: ",-1)),e("span",ye,n(o(s).trackingNumber),1)]),e("div",we,[t[5]||(t[5]=e("div",{class:"w-1.5 aspect-square bg-slate-500 rounded-full"},null,-1)),t[6]||(t[6]=e("span",{class:"text-slate-500"},"Order ID: ",-1)),e("span",De,n(o(s).orderId),1)]),e("div",$e,[t[7]||(t[7]=e("span",{class:"text-slate-500"},"Delivery Address: ",-1)),e("span",Me,n(o(s).destination.address),1)])]),e("div",null,[i(Y,{status:o(s).status,"freight-mode":o(s).freightMode},null,8,["status","freight-mode"]),i(S,{header:"More",toggleable:"",collapsed:"",class:"rounded-md mt-1 font-rubik font-normal"},{default:g(()=>[i($,null,{legend:g(()=>[e("div",Te,[i(u,{name:"lucide:circle-user-round",size:"1.2rem"}),t[8]||(t[8]=e("span",{class:"font-bold"},"Client",-1))])]),default:g(()=>[e("div",ze,[e("div",null,[t[9]||(t[9]=e("span",null,"Name: ",-1)),t[10]||(t[10]=b()),e("span",Fe,n(o(s).user.name),1)]),i(C,{class:"my-2"}),e("div",null,[t[11]||(t[11]=e("span",null,"Email: ",-1)),t[12]||(t[12]=b()),e("span",Ye,n(o(s).user.email),1)])])]),_:1}),i($,null,{legend:g(()=>[e("div",Ce,[i(u,{name:"lucide:package",size:"1.2rem"}),t[13]||(t[13]=e("span",{class:"font-bold"},"Items",-1))])]),default:g(()=>[e("div",Pe,[i(P,{value:o(s).items,size:"small",class:"text-sm","striped-rows":""},{default:g(()=>[i(v,{field:"name",header:"Name"}),i(v,{field:"unitPrice",header:"Price ($)"}),i(v,{field:"quantity",header:"Quantity"}),i(v,{header:"Amount ($)"},{body:g(({data:x})=>[b(n(x.unitPrice*x.quantity),1)]),_:1})]),_:1},8,["value"])]),e("div",Se,[e("div",Ne,[t[14]||(t[14]=e("span",null,"Total:",-1)),e("span",Ae,"$"+n(o(s).totalPrice),1)])])]),_:1})]),_:1})])])]),e("div",Ie,[o(f).length>0?(l(),m("div",qe,[(l(!0),m(T,null,z(o(f),x=>(l(),_(N,{update:x,"freight-mode":o(s).freightMode,key:x._id},null,8,["update","freight-mode"]))),128))])):k("",!0),e("div",{class:y(["px-3",o(f).length>0?"lg:col-span-3":"lg:col-span-5"])},[e("header",Oe,[e("div",je,[e("div",Ee,[e("div",Ve,[i(u,{name:"lucide:map-pin-check"})]),t[15]||(t[15]=e("p",{class:"rubik font-medium text-slate-600 text-sm"},"Destination",-1))]),e("div",Be,[e("p",Le,[e("span",Qe,n(o(s).destination.city),1)]),e("p",Re,n(o(s).destination.state)+", "+n(o(s).destination.country),1)])]),e("div",Ue,[e("div",Ge,[e("div",He,[i(u,{name:"lucide:calendar-arrow-down"})]),t[16]||(t[16]=e("p",{class:"rubik font-medium text-slate-600 text-sm"},"Est. Arrival Date",-1))]),e("div",Ke,[e("p",Ze,[e("span",Je,n(("useDateFormat"in a?a.useDateFormat:o(h))(o(s).estimatedDelivery,"MMM DD")),1)]),e("p",We,n(("useDateFormat"in a?a.useDateFormat:o(h))(o(s).estimatedDelivery,"dddd | YYYY")),1)])]),e("div",Xe,[e("div",et,[e("div",tt,[i(u,{name:"lucide:circle-dollar-sign"})]),t[17]||(t[17]=e("p",{class:"rubik font-medium text-slate-600 text-sm"},"Total Value",-1))]),e("div",st,[e("p",ot,[t[18]||(t[18]=e("span",null,"$",-1)),e("span",it,n(Math.floor(o(s).totalPrice)),1),e("span",null,"."+n((o(s).totalPrice%1).toFixed(2).slice(2)),1)]),t[19]||(t[19]=e("p",{class:"text-right text-xs text-slate-500"},"No updates",-1))])])]),e("div",nt,[o(f).length>0?(l(),m("div",at,[i(A,{updates:o(f)},null,8,["updates"])])):(l(),m("div",lt,[e("div",rt,[e("div",dt,[i(u,{name:"lucide:package-open",size:"6rem"}),t[20]||(t[20]=e("p",{class:"font-rubik font-semibold text-slate-400 text-2xl"},"No updates",-1))]),t[21]||(t[21]=e("p",{class:"text-center text-slate-500"},[b("Your order is still being processed. "),e("br"),b(" Check back later for updates.")],-1))])]))])],2)])])):(l(),m("div",ct,[e("div",ut,[e("div",mt,[i(u,{name:"lucide:package-search",size:"1.6rem"}),t[22]||(t[22]=e("h4",{class:"rubik text-3xl font-bold"},"Shipment Tracking",-1))]),e("div",pt,[e("p",ft,[t[23]||(t[23]=e("span",null,"Tracking Number: ",-1)),e("span",gt,n(o(p)),1)]),t[24]||(t[24]=e("p",{class:"flex gap-2 items-center"},[e("span",null,"Status: "),e("span",{class:"font-semibold text-lg rubik"},"Not Found")],-1))])]),e("div",null,[i(I)])]))]),_:1})])}}});export{ts as default};
