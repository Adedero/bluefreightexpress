import{_ as k}from"./DfhThRFM.js";import{t as g}from"./DkbjyAM4.js";import F from"./B_1yK0Rj.js";import T from"./DHxHvE3X.js";import N from"./BlNWoK91.js";import{e as A,i as P,j as D,c as _,a as p,b as t,t as s,u as r,w as n,o as f,s as $,d,n as x}from"./DHCjx-0A.js";import{u as B}from"./Buflh2ww.js";import{u as w}from"./DgWVhavE.js";import{u as h}from"./DzDQHAey.js";import"./COD-saly.js";import"./D5aLTPvq.js";import"./BaKD-sMk.js";import"./Ggmnc0oH.js";import"./vy0kVvtW.js";import"./C7mcikmB.js";import"./B3IQ4kuS.js";import"./CD2YCOhw.js";import"./_OmuWdfu.js";import"./CXnOME2c.js";import"./C8WNGDPJ.js";import"./DyvySO5c.js";import"./Bfv2Pax1.js";import"./CtTQk7Sc.js";import"./D9jEAXsz.js";import"./DStayiqf.js";import"./BSOk3eo_.js";import"./BBwG4OiY.js";import"./CJnPtxct.js";import"./CfhdCkwP.js";import"./EhZzT-cq.js";import"./nMvdbdjo.js";import"./DSLRz9AX.js";import"./D0gCGbm_.js";const L={class:"w-dvw p-4"},V={class:"border rounded-lg shadow-sm px-2 py-2 flex items-center justify-between gap-2"},z={class:"font-rubik text-xl font-bold text-[--p-primary-color]"},E={class:"mt-4"},j={key:0},I={key:1},O={class:"w-full overflow-x-auto"},ve=A({__name:"index",async setup(R){let i,m;B({title:"Admin"});const l=P(0),{data:c}=([i,m]=D(()=>w("/api/orders/count","$BDyEMCVgmz")),i=await i,m(),i),{data:u}=([i,m]=D(()=>w("/api/orders",{query:{page:l.value},watch:[l]},"$-5AfRAlzgG")),i=await i,m(),i),b=async o=>{await x(`/admin/orders/${o.data._id}`)};return(o,y)=>{const v=$,M=k,a=N,C=T,Y=F;return f(),_("div",L,[p("header",V,[p("h1",z," Orders: "+s(r(c)===null?"Loading":r(c)),1),t(M,{to:"/admin/create-order"},{default:n(()=>[t(v,{label:"New",icon:"pi pi-plus",size:"small"})]),_:1})]),p("div",E,[r(u)===null?(f(),_("div",j," Loading ")):(f(),_("div",I,[p("div",O,[t(C,{value:r(u),"striped-rows":"",selectionMode:"single","data-key":"_id",onRowClick:b,class:"text-sm"},{default:n(()=>[t(a,{field:"user.name",header:"Client"}),t(a,{field:"orderId",header:"Order ID"}),t(a,{field:"trackingNumber",header:"Tracking Number"}),t(a,{field:"status",header:"Status"},{body:n(({data:e})=>[d(s(("toTitleCase"in o?o.toTitleCase:r(g))(e.status)),1)]),_:1}),t(a,{field:"freightMode",header:"Freight Mode"},{body:n(({data:e})=>[d(s(("toTitleCase"in o?o.toTitleCase:r(g))(e.freightMode)),1)]),_:1}),t(a,{header:"Destination"},{body:n(({data:e})=>[d(s(e.destination.state)+", "+s(e.destination.country),1)]),_:1}),t(a,{header:"Est. Delivery"},{body:n(({data:e})=>[d(s(("useDateFormat"in o?o.useDateFormat:r(h))(e.estimatedDelivery,"DD MMM, YYYY")),1)]),_:1}),t(a,{header:"Created"},{body:n(({data:e})=>[d(s(("useDateFormat"in o?o.useDateFormat:r(h))(e.createdAt,"DD MMM, YYYY hh:mm a")),1)]),_:1}),t(a,{header:"Last Updated"},{body:n(({data:e})=>[d(s(("useDateFormat"in o?o.useDateFormat:r(h))(e.updatedAt,"DD MMM, YYYY hh:mm a")),1)]),_:1})]),_:1},8,["value"]),t(Y,{rows:20,"total-records":r(c)??r(u).length,onPage:y[0]||(y[0]=e=>l.value=e.page)},null,8,["total-records"])])]))])])}}});export{ve as default};
