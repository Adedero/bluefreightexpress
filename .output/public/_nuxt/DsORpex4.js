const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CznFVVkb.js","./m_FpzeNm.js"])))=>i.map(i=>d[i]);
import{g as S,l as v,G as h,H as C,I as k,c as g,o as y,a as t,y as w,m as l,d as u,t as c}from"./CXM8C5h9.js";/* empty css        */const P={ref:"map-el",class:"w-full rounded-md overflow-hidden",style:{height:"500px"}},T={key:0,class:"mt-4 p-4 bg-gray-50 border rounded shadow-sm relative"},V={key:0,class:"absolute inset-0 bg-white/80 flex items-center justify-center z-10"},E=["disabled"],G=S({__name:"location-picker",emits:["locationPicked"],setup(M,{emit:b}){const x=b,o=v(null),p=v(!1),i=v(null),f=h("map-el"),s=v(),L=()=>{i.value&&s.value&&(s.value.removeLayer(i.value),i.value=null),o.value=null};return C(async()=>{if(!f.value)return;const m=await k(()=>import("./m_FpzeNm.js").then(a=>a.l),[],import.meta.url),e=(await k(async()=>{const{default:a}=await import("./CznFVVkb.js");return{default:a}},__vite__mapDeps([0,1]),import.meta.url)).default;s.value=m.map(f.value).setView([0,0],5),m.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"&copy; OpenStreetMap contributors"}).addTo(s.value);const _=async(a,r)=>{p.value=!0;try{const n=await $fetch("https://nominatim.openstreetmap.org/reverse",{params:{format:"jsonv2",lat:a,lon:r}}),d=n.address||{};o.value={lat:a,lng:r,name:n.name||"",address:n.display_name||"",country:d.country||"",countryCode:d.country_code||"",state:d.state||"",city:d.city||"",town:d.town||"",village:d.village||""},x("locationPicked",o.value),i.value&&s.value&&s.value.removeLayer(i.value),i.value=m.marker([a,r]).addTo(s.value).bindPopup(n.display_name||"Selected location").openPopup()}catch(n){console.error("Error during reverse geocoding",n)}finally{p.value=!1}};new e({defaultMarkGeocode:!0}).addTo(s.value).on("markgeocode",a=>{const{lat:r,lng:n}=a.geocode.center;s.value.setView([r,n],13),_(r,n)}),s.value.on("click",a=>{const{lat:r,lng:n}=a.latlng;_(r,n)})}),(m,e)=>(y(),g("div",null,[t("div",P,null,512),l(o)?(y(),g("div",T,[l(p)?(y(),g("div",V,e[0]||(e[0]=[t("span",{class:"text-sm text-gray-600 animate-pulse"},"Loading location...",-1)]))):w("",!0),t("p",null,[e[1]||(e[1]=t("strong",null,"Lat:",-1)),u(" "+c(l(o).lat),1)]),t("p",null,[e[2]||(e[2]=t("strong",null,"Lng:",-1)),u(" "+c(l(o).lng),1)]),t("p",null,[e[3]||(e[3]=t("strong",null,"Address:",-1)),u(" "+c(l(o).address),1)]),t("p",null,[e[4]||(e[4]=t("strong",null,"City:",-1)),u(" "+c(l(o).city||l(o).town||l(o).village),1)]),t("p",null,[e[5]||(e[5]=t("strong",null,"State:",-1)),u(" "+c(l(o).state),1)]),t("p",null,[e[6]||(e[6]=t("strong",null,"Country:",-1)),u(" "+c(l(o).country),1)]),t("button",{class:"mt-3 px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600 transition",onClick:L,disabled:l(p)}," Clear Selection ",8,E)])):w("",!0)]))}}),I=["processing","shipped","in transit","delivered","cancelled"],N=["air","ocean","road"],O=["home","pickup station"],R=["info","success","error"];export{G as _,O as d,N as f,I as o,R as t};
